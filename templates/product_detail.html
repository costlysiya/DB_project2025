{% extends "base.html" %}

{% block title %}ìƒí’ˆ ìƒì„¸ | {{ product.name }} | ì…€ë ‰íŠ¸ ë§ˆì¼“{% endblock %}

{% block content %}

    <div class="product-detail-container">
        
        <div class="image-gallery">
            <img src="{{ product.main_image_url }}" alt="{{ product.name }}" class="main-image">
            
            <div class="thumbnail-list">
                <img src="http://fileserver.com/resell/album_real_01.jpg" alt="ì¸ë„¤ì¼1">
                <img src="http://fileserver.com/resell/album_real_02.jpg" alt="ì¸ë„¤ì¼2">
                </div>
        </div>
        
        <div class="product-info-box">
            
            <p class="category-path">í™ˆ > {{ product.category }} > {{ product.name }}</p>
            <h1>{{ product.name }}</h1>
            <p class="description">{{ product.description }}</p>
            
            <hr>

            <div class="price-section">
                <span class="label">íŒë§¤ ê°€ê²©</span>
                <span class="price-value">{{ listing.price | number_format }}ì›</span>
            </div>
            
            <div class="seller-section">
                <span class="label">íŒë§¤ì</span>
                <span class="seller-name">{{ seller.name }} ({{ seller.store_name }})</span>
                <span class="seller-grade">ë“±ê¸‰: {{ seller.grade }} </span>
            </div>
            
            <div class="detail-section">
                <p><strong>êµ¿ì¦ˆ ë“±ê¸‰ (ì¸ê¸°ë„):</strong> <span class="rating-value">{{ product.rating }}</span></p>
                <p><strong>íŒë§¤ í˜•íƒœ:</strong> <span class="listing-type-value">{{ listing.listing_type }}</span></p>
                {% if listing.condition %}
                <p><strong>ìƒí’ˆ ìƒíƒœ:</strong> <span>{{ listing.condition }}</span></p>
                {% endif %}
                <p><strong>ë‚¨ì€ ì¬ê³ :</strong> <span class="stock-value">{{ listing.stock }}ê°œ</span></p>
            </div>
            
            <hr>

            <form action="/add_to_cart" method="POST" class="purchase-form">
                <input type="hidden" name="listing_id" value="{{ listing.listing_id }}">
                
                <div class="quantity-selector">
                    <label for="quantity">êµ¬ë§¤ ìˆ˜ëŸ‰</label>
                    <input type="number" id="quantity" name="quantity" value="1" min="1" max="{{ listing.stock }}" required>
                </div>

                <div class="total-price">
                    ì´ ê²°ì œ ê¸ˆì•¡: 
                    <span id="final-price">{{ listing.price | number_format }}ì›</span>
                </div>
                
                <div class="action-buttons">
                    <button type="submit" class="btn primary-btn cart-btn">ğŸ›’ ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°</button>
                    <button type="button" class="btn secondary-btn buy-btn">ë°”ë¡œ êµ¬ë§¤</button>
                </div>
            </form>

        </div>
    </div>
    
    <div class="product-tabs">
        <h2>ì‚¬ìš©ì í”¼ë“œë°± ({{ feedback_count }}ê°œ)</h2>
        <div class="feedback-list">
            <p><strong>ê¹€êµ¬ë§¤ì (í‰ì  5ì ):</strong> ê³µì‹ íŒë§¤ì ë°°ì†¡ ë¹ ë¥´ê³  ì•ˆì „í•©ë‹ˆë‹¤.</p>
        </div>
    </div>

{% endblock %}